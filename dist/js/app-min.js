!function(){"use strict";angular.module("todoApp",[])}(),function(){"use strict";function t(t,o){t.todosJSON=localStorage.getItem("todoList"),t.todos=null!==localStorage.getItem("todoList")?JSON.parse(t.todosJSON):[],t.reset=null!==localStorage.getItem("todoList")?JSON.parse(t.todosJSON):[],localStorage.setItem("todoList",JSON.stringify(t.todos)),t.path=o.path().split("/")[1]||"all",t.add=function(){t.todos.push({subject:t.subject,status:!1}),t.subject="",localStorage.setItem("todoList",JSON.stringify(t.todos)),t.todosJSON=localStorage.getItem("todoList"),t.reset=null!==localStorage.getItem("todoList")?JSON.parse(t.todosJSON):[]},t.update=function(){localStorage.setItem("todoList",JSON.stringify(t.todos)),0==t.countStatus()?t.toggleAll=!0:t.toggleAll=!1},t.countStatus=function(){var o=0;return angular.forEach(t.todos,function(t){o+=t.status?0:1}),o},0==t.countStatus()&&0!=t.todos?t.toggleAll=!0:0==t.todos&&(t.toggleAll=!1),t.checking=function(){if(1==t.toggleAll){var o=t.todos;t.todos=[],angular.forEach(o,function(o){t.todos.push({subject:o.subject,status:!0})}),localStorage.setItem("todoList",JSON.stringify(t.todos))}else{var o=t.todos;t.todos=[],angular.forEach(o,function(o){t.todos.push({subject:o.subject,status:!1})}),localStorage.setItem("todoList",JSON.stringify(t.todos))}},t.removeOne=function(o){t.todos.splice(o,1),localStorage.setItem("todoList",JSON.stringify(t.todos)),0==t.countStatus()&&0!=t.todos?t.toggleAll=!0:0==t.todos?t.toggleAll=!1:t.toggleAll=!1},t.removeAll=function(){var o=t.todos;t.todos=[],angular.forEach(o,function(o){o.status||t.todos.push(o)}),t.toggleAll=!1,localStorage.setItem("todoList",JSON.stringify(t.todos))}}angular.module("todoApp").controller("control",t)}(),function(){"use strict";angular.module("todoApp").directive("focus",["$timeout",function(t){return{restrict:"A",link:function(o,s){t(function(){s[0].focus()})}}}]),angular.module("todoApp").directive("escape",function(){return{restrict:"A",link:function(t,o,s){o.bind("keydown  keypress",function(o){27===o.keyCode&&(t.$apply(function(){t.$eval(s.escape)}),o.preventDefault())})}}})}();